<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mTouch Framework: mTouch CVD Evaluation Kit Quick Start Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="main.html">main</a>      </li>
      <li><a class="el" href="_getting_started.html">Getting Started</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>mTouch CVD Evaluation Kit Quick Start Guide </h1>  </div>
</div>
<div class="contents">
<dl class="note"><dt><b>Note:</b></dt><dd>This guide assumes you are using the mTouch Evaluation kit as your hardware. For details on where to begin when implementing the mTouch framework on a custom hardware design, use <a class="el" href="_getting_started_custom.html">this guide</a>.</dd></dl>
<p>Congratulations for the purchase of your new mTouch CVD Evaluation Kit.</p>
<p>Although the kit will run right out of the box, this document will walk you through the setup process to quickly configure the kit. Should you need any custom configuration, this will get you up and running.</p>
<p>The kit comes pre-programmed and set to operate in the configuration listed below. If you need to alter any of the parameters, then a new hex file will need to be generated and the main board will need to be reprogrammed with the new firmware. MPLAB IDE will then be required as well as a compatible C compiler.</p>
<h2><a class="anchor" id="GSE_LAYOUTS"></a>
Hardware Layouts / Configurations:</h2>
<p>Each of the board versions listed below has a matching demo project provided in: <b><code>Your MLA Directory/mTouchCapDemos/PIC16F_CVD_Demos</code></b></p>
<ul>
<li><a class="el" href="_g_s_e__r3.html">02-02091-R3</a> :: CVD Eval Board </li>
<li><a class="el" href="_g_s_e__r3.html">233-04-2028 Rev A</a> :: CVD Eval Board (Use 02-02091-R3 project) </li>
<li><a class="el" href="_g_s_e__r2.html">02-02091-R2</a> :: CSM-CVD Eval Board </li>
<li><a class="el" href="_g_s_e__r2.html">02-02091-R1</a> :: CSM-CVD Eval Board (Use 02-02091-R2 project) </li>
<li><a class="el" href="_g_s_e__r_f.html">233-04-1008 Rev F</a> :: CSM Eval Board </li>
<li><a class="el" href="_g_s_e__r_a.html">02-02091-RA</a> :: CSM Eval Board</li>
</ul>
<div align="center">
<img src="evalNumber.jpg" alt="evalNumber.jpg"/>
<p><strong>Look on the sticker on the back of the evaluation board to match the project's folder name.</strong></p></div>
 <h2><a class="anchor" id="GSE_GUI"></a>
Communicating with the mTouch GUI:</h2>
<p>The demo hex files and projects for the evaluation boards are preconfigured to work with the mTouch Two-Way GUI out-of-the box. The default PICKit Serial Analyzer firmware will need to be updated to the latest version. The PICKit Serial Loader utility has been provided to make this easy. You can find it here: <code>Your MLA Directory/mTouchCapDemos/Utilities/PIC12F PIC16F Utilities/PICKit Serial Loader</code></p>
<p>You must load the <b>PKS-0307-WITHBOOT-0103.HEX</b> when requested by the loader utility. See <a class="el" href="_p_k_s_a_r_s232.html">this guide</a>.</p>
<p>Once this is done, power the mTouch evaluation board externally (through any source other than the PKSA header), connect the PKSA to the board, and start the mTouch GUI.</p>
<h2><a class="anchor" id="GSE_CNS"></a>
Changing the Number of Sensors:</h2>
<p>If you need the stack to manage more or less than the default number, all you need to do is update the constant <a class="el" href="group___configuration.html#ga120981aeda98930e49691ea39c1b550e" title="Number of active-mode mTouch sensor inputs to scan.">MTOUCH_NUMBER_SENSORS</a> to any other value from 1 to 15. This constant can be found in the <a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a> file.</p>
<h2><a class="anchor" id="GSE_ASI"></a>
Assigning Sensor Indexes to the Correct A/D Channels</h2>
<p>Depending on how the daughter board is connected to the main board, the sensors may be connected to different A/D inputs on the PIC microcontroller. In the mTouch framework, sensors can be mapped to a specific index in the application. Go to <a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a> and look for the section with the definitions shown below, and map the sensor indexes on the left side to the correct A/D channels for your setup. </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">   #define MTOUCH_SENSOR0             AN0  </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR1             AN1    </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR2             AN2     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR3             AN3     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR4             AN4     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR5             AN5     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR6             AN6     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR7             AN7     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR8             AN8     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR9             AN9     </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR10            AN10    </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR11            AN11    </span>
<span class="preprocessor"></span><span class="preprocessor">   #define MTOUCH_SENSOR12            AN12    </span>
<span class="preprocessor">   #define MTOUCH_SENSOR13            AN13</span>
</pre></div><h2><a class="anchor" id="GSE_CAC"></a>
Changing the Number of Samples per Scan</h2>
<p>The number of samples taken in an application will be based on a trade-off between sensitivity and response time. The more samples taken, the better the signal-to-noise ratio of the system, but the slower its response to a finger. Typical response times are less than 100ms to eliminate delay that is visible to the human eye. If a specific response time is required, example equations are provided in the configuration file to show how to calculate the rate that will be chosen based on this value.</p>
<h2><a class="anchor" id="GSE_AST"></a>
Adjusting the Sensor Threshold Values</h2>
<p>Your mTouch evaluation kit comes already preconfigured with the sensor threshold values for the 8-button daughter board. If different sensitivities are needed, go to the <a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a> file, locate the section with the definitions shown below, and set the new values. A general rule of thumb to finding and setting correct values is to determine the range of shift for the sensor (min and max shift) and set the threshold to about 75% of the range. The following formula can be used: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ Threshold_{Press} = min + 0.75 (max - min) \]" src="form_2.png"/>
</p>
 <div class="fragment"><pre class="fragment"><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR0         65         </span>
<span class="preprocessor"></span><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR1         65</span>
<span class="preprocessor"></span><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR2         65</span>
<span class="preprocessor"></span><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR3         65</span>
<span class="preprocessor"></span><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR4         65</span>
<span class="preprocessor"></span><span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR5         65</span>
<span class="preprocessor">   #define THRESHOLD_PRESS_SENSOR6         65</span>
</pre></div><h2><a class="anchor" id="Framework"></a>
Configuration and Application API Hooks</h2>
<p>See the <a class="el" href="feat_basic.html">basic sensor configuration</a> guide and the <a class="el" href="_framework_features.html">feature-specific help</a> section. </p>
</div>
<hr class="footer"/><address class="footer"><small>mTouch Framework v2.1 documentation by&#160;
<a href="http://www.microchip.com"> 
<img class="footer" src="../includes/mchp.jpeg" alt="Click here to visit our website at www.microchip.com"/></a></small></address> 
</body> 
</html> 
