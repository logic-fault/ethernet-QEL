<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mTouch Framework: mTouch.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>mTouch.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Required include! The main framework header file used by all framework files.  
<a href="#_details">More...</a></p>
<code>#include &lt;p18cxxx.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="m_touch__config_8h_source.html">mTouch_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="m_touch__process_configuration_8h_source.html">mTouch_processConfiguration.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="m_touch__modes_8h_source.html">mTouch_modes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="m_comm_8h_source.html">mComm.h</a>&quot;</code><br/>
<!-- startSectionHeader --><div class="dynheader">
Include dependency graph for mTouch.h:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="m_touch_8h__incl.png" border="0" usemap="#m_touch_8h" alt=""/></div>
<map name="m_touch_8h" id="m_touch_8h">
<area shape="rect" id="node5" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework." alt="" coords="369,83,489,112"/><area shape="rect" id="node15" href="m_touch__process_configuration_8h.html" title="Internal framework header file performing many pre&#45;compiler checks and generating predefined values f..." alt="" coords="564,83,769,112"/><area shape="rect" id="node17" href="m_touch__modes_8h.html" title="Internal framework header file implementing scanning mode functionality." alt="" coords="793,83,919,112"/><area shape="rect" id="node19" href="m_comm_8h.html" title="mComm.h" alt="" coords="943,83,1025,112"/><area shape="rect" id="node7" href="m_touch__options_for_config_8h.html" title="Defines the valid labeled values for several framework configuration options." alt="" coords="5,160,187,189"/><area shape="rect" id="node9" href="m_touch__config__slider_8h.html" title="Framework Configuration! Slider and Wheel Configuration Options." alt="" coords="211,160,368,189"/><area shape="rect" id="node11" href="m_touch__config__modes_8h.html" title="mTouch_config_modes.h" alt="" coords="392,160,557,189"/><area shape="rect" id="node13" href="m_touch__config__cvd_advanced_8h.html" title="Framework Configuration! Advanced CVD Scanning Options." alt="" coords="581,160,784,189"/></map>
<!-- endSectionContent --></div>

<p><a href="m_touch_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm_touch___sensor_variables.html">mTouch_SensorVariables</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all variables used in active mode which can/will be reinitialized after each mode switch.  <a href="structm_touch___sensor_variables.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm_touch___state_variables.html">mTouch_StateVariables</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains sensor and state variables.  <a href="structm_touch___state_variables.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionm_touch___acquisition_data.html">mTouch_AcquisitionData</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure used to implement both a 12-bit and a 20-bit variable inside a single 32-bit array.  <a href="unionm_touch___acquisition_data.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm_touch___state.html">mTouch_State</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collection of single-bit flags used by the mTouch Framework.  <a href="structm_touch___state.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ae6182ea7b7b96091bd91b02b9724486b">MTOUCH_CURRENTSCAN_VALUE</a>&#160;&#160;&#160;<a class="el" href="m_touch__acquistion_8c.html#ad74b3f8b877c7b7d513b9212d54dcb82">mTouch_currentScan</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ac3cba3c5b7b2bb8130212e45c77311cc">mTouch_GetButtonState</a>(i)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the given active-mode sensor.  <a href="#ac3cba3c5b7b2bb8130212e45c77311cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#aecc67b5fbd0a8cae2fecaf064adb8aef">mTouch_GetAverage</a>(i)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current average value of the given active-mode sensor.  <a href="#aecc67b5fbd0a8cae2fecaf064adb8aef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ab444477aa22fecdcfdbf707570576bce">mTouch_GetSensor</a>(i)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current reading value of the given active-mode sensor.  <a href="#ab444477aa22fecdcfdbf707570576bce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a84746a31eca9bfee247bb568d3903ee7">mTouch_EnableScanning</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables mTouch scanning.  <a href="#a84746a31eca9bfee247bb568d3903ee7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ad3bdf898f87de4107782514fe3fdfb09">mTouch_DisableScanning</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables mTouch scanning.  <a href="#ad3bdf898f87de4107782514fe3fdfb09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a96203f03b9e8e101c8c59c562c49ef40">mTouch_Service</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs mTouch decoding, communications output, and mode switching.  <a href="#a96203f03b9e8e101c8c59c562c49ef40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a102fc3a75223c81493c2c6cd33ad8cb3">mTouch_isDataReady</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sometimes function call, sometimes bit-check. Required mTouch API call.  <a href="#a102fc3a75223c81493c2c6cd33ad8cb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a92868140881b6503ef6617b8dc0660a1">mTouch_checkInterrupt</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the ISR flag checks to see if the mTouch timer caused the interrupt.  <a href="#a92868140881b6503ef6617b8dc0660a1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2">mTouch_enum_ButtonState</a> { <a class="el" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2a8ac4e988fd74c22ff6e99ee854cc848f">MTOUCH_INITIALIZING</a>, 
<a class="el" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2a9171b63f68c2e5ed308f9700e824cbbe">MTOUCH_RELEASED</a>, 
<a class="el" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2aed5b3f2b7065991010f45eb04759ef01">MTOUCH_PRESSED</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ab73968cbb19d4ae25a65698c15906b65">mTouch_Init</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main initialization routine for all mTouch framework modules including the built-in communication module, if enabled.  <a href="#ab73968cbb19d4ae25a65698c15906b65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___decoding.html#ga8955adf440115510aace00d81444e268">mTouch_Decode</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the state of each active-mode sensor using the latest acquisition value.  <a href="group___decoding.html#ga8955adf440115510aace00d81444e268"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a5c62bf914c0353b75955a34212c1faae">mTouch_ChangeMode</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___acquisition.html#ga60426826e876a6a8c03b27b45ba02833">mTouch_Scan</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the framework's active-mode acquisition routine. Sometimes implemented as an ISR, sometimes as a normal function.  <a href="group___acquisition.html#ga60426826e876a6a8c03b27b45ba02833"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structm_touch___state.html">mTouch_State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ab678fb469a6bdd3d0b75cc4b48adf504">mTouch_state</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks the state of the mTouch algorithm.  <a href="#ab678fb469a6bdd3d0b75cc4b48adf504"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structm_touch___state_variables.html">mTouch_StateVariables</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#affc22e96882bd0d8b258dd2241fe3fd9">mTouch_stateVars</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores all state-temporary variables to be reinitialized each mode change.  <a href="#affc22e96882bd0d8b258dd2241fe3fd9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a6e24f307e58e95e12550082469099ae2">mTouch_sensorData</a> [MTOUCH_NUMBER_SENSORS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Latch register storing the latest mTouch acquisition results.  <a href="#a6e24f307e58e95e12550082469099ae2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unionm_touch___acquisition_data.html">mTouch_AcquisitionData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a699585423cd352f17a4edc5388970d20">mTouch_acqData</a> [MTOUCH_NUMBER_SENSORS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal mTouch acquisition variable structure.  <a href="#a699585423cd352f17a4edc5388970d20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a64be528d090489e1cc2bd740d55501ac">mTouch_average</a> [MTOUCH_NUMBER_SENSORS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array to track the unpressed value of each sensor.  <a href="#a64be528d090489e1cc2bd740d55501ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ab29410255e81d186a19b48c01053fc96">mTouch_pressThreshold</a> [MTOUCH_NUMBER_SENSORS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant array containing the press threshold for each sensor.  <a href="#ab29410255e81d186a19b48c01053fc96"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#a8684610eda16ac0df01d05ec5d7c362c">mTouch_releaseThreshold</a> [MTOUCH_NUMBER_SENSORS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant array containing the release threshold for each sensor.  <a href="#a8684610eda16ac0df01d05ec5d7c362c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m_touch_8h.html#ad74b3f8b877c7b7d513b9212d54dcb82">mTouch_currentScan</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Required include! The main framework header file used by all framework files. </p>

<p>Definition in file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a92868140881b6503ef6617b8dc0660a1"></a><!-- doxytag: member="mTouch.h::mTouch_checkInterrupt" ref="a92868140881b6503ef6617b8dc0660a1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_checkInterrupt</td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements the ISR flag checks to see if the mTouch timer caused the interrupt. </p>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00608">608</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6182ea7b7b96091bd91b02b9724486b"></a><!-- doxytag: member="mTouch.h::MTOUCH_CURRENTSCAN_VALUE" ref="ae6182ea7b7b96091bd91b02b9724486b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MTOUCH_CURRENTSCAN_VALUE&#160;&#160;&#160;<a class="el" href="m_touch__acquistion_8c.html#ad74b3f8b877c7b7d513b9212d54dcb82">mTouch_currentScan</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00359">359</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad3bdf898f87de4107782514fe3fdfb09"></a><!-- doxytag: member="mTouch.h::mTouch_DisableScanning" ref="ad3bdf898f87de4107782514fe3fdfb09" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_DisableScanning</td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables mTouch scanning. </p>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00562">562</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84746a31eca9bfee247bb568d3903ee7"></a><!-- doxytag: member="mTouch.h::mTouch_EnableScanning" ref="a84746a31eca9bfee247bb568d3903ee7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_EnableScanning</td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables mTouch scanning. </p>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00561">561</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="aecc67b5fbd0a8cae2fecaf064adb8aef"></a><!-- doxytag: member="mTouch.h::mTouch_GetAverage" ref="aecc67b5fbd0a8cae2fecaf064adb8aef" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_GetAverage</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current average value of the given active-mode sensor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>index of the sensor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00471">471</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac3cba3c5b7b2bb8130212e45c77311cc"></a><!-- doxytag: member="mTouch.h::mTouch_GetButtonState" ref="ac3cba3c5b7b2bb8130212e45c77311cc" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_GetButtonState</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current state of the given active-mode sensor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>index of the sensor Example usage: </p>
<div class="fragment"><pre class="fragment">   <span class="keywordflow">if</span> (<a class="code" href="m_touch_8h.html#ac3cba3c5b7b2bb8130212e45c77311cc" title="Get the current state of the given active-mode sensor.">mTouch_GetButtonState</a>(0) &lt; <a class="code" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2aed5b3f2b7065991010f45eb04759ef01" title="Sensor is currently pressed.">MTOUCH_PRESSED</a>) { 
       LED0 = LED_OFF; 
   } <span class="keywordflow">else</span> { 
       LED0 = LED_ON; 
   }
</pre></div> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00462">462</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab444477aa22fecdcfdbf707570576bce"></a><!-- doxytag: member="mTouch.h::mTouch_GetSensor" ref="ab444477aa22fecdcfdbf707570576bce" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_GetSensor</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current reading value of the given active-mode sensor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>index of the sensor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00480">480</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="a102fc3a75223c81493c2c6cd33ad8cb3"></a><!-- doxytag: member="mTouch.h::mTouch_isDataReady" ref="a102fc3a75223c81493c2c6cd33ad8cb3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_isDataReady</td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sometimes function call, sometimes bit-check. Required mTouch API call. </p>
<p>The <a class="el" href="m_touch_8h.html#a102fc3a75223c81493c2c6cd33ad8cb3" title="Sometimes function call, sometimes bit-check. Required mTouch API call.">mTouch_isDataReady()</a> macro will return '1' when: </p>
<ul>
<li>mTouch is being scanned from the ISR and new data is ready to process. </li>
<li>mTouch is being called from the mainloop and new data is ready to process.</li>
</ul>
<p>This macro call is sometimes implemented as a bit-check on a variable. If mTouch is not being called from the ISR, this macro is implemented as a function call to the scan routine.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 when new data is ready for processing, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00598">598</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<a class="anchor" id="a96203f03b9e8e101c8c59c562c49ef40"></a><!-- doxytag: member="mTouch.h::mTouch_Service" ref="a96203f03b9e8e101c8c59c562c49ef40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mTouch_Service</td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs mTouch decoding, communications output, and mode switching. </p>
<p>The data ready flag is cleared and the mTouch decode routine is called. </p>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00576">576</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a7d72b112c35bc51408030eb7ecdcacd2"></a><!-- doxytag: member="mTouch.h::mTouch_enum_ButtonState" ref="a7d72b112c35bc51408030eb7ecdcacd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="m_touch_8h.html#a7d72b112c35bc51408030eb7ecdcacd2">mTouch_enum_ButtonState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enumeration of the valid mTouch active-mode sensor states </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7d72b112c35bc51408030eb7ecdcacd2a8ac4e988fd74c22ff6e99ee854cc848f"></a><!-- doxytag: member="MTOUCH_INITIALIZING" ref="a7d72b112c35bc51408030eb7ecdcacd2a8ac4e988fd74c22ff6e99ee854cc848f" args="" -->MTOUCH_INITIALIZING</em>&nbsp;</td><td>
<p>Sensor is still initializing. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7d72b112c35bc51408030eb7ecdcacd2a9171b63f68c2e5ed308f9700e824cbbe"></a><!-- doxytag: member="MTOUCH_RELEASED" ref="a7d72b112c35bc51408030eb7ecdcacd2a9171b63f68c2e5ed308f9700e824cbbe" args="" -->MTOUCH_RELEASED</em>&nbsp;</td><td>
<p>Sensor is currently released. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7d72b112c35bc51408030eb7ecdcacd2aed5b3f2b7065991010f45eb04759ef01"></a><!-- doxytag: member="MTOUCH_PRESSED" ref="a7d72b112c35bc51408030eb7ecdcacd2aed5b3f2b7065991010f45eb04759ef01" args="" -->MTOUCH_PRESSED</em>&nbsp;</td><td>
<p>Sensor is currently pressed. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="m_touch_8h_source.html#l00378">378</a> of file <a class="el" href="m_touch_8h_source.html">mTouch.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5c62bf914c0353b75955a34212c1faae"></a><!-- doxytag: member="mTouch.h::mTouch_ChangeMode" ref="a5c62bf914c0353b75955a34212c1faae" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mTouch_ChangeMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="m_touch__acquistion_8c_source.html#l00508">508</a> of file <a class="el" href="m_touch__acquistion_8c_source.html">mTouch_acquistion.c</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="m_touch_8h_a5c62bf914c0353b75955a34212c1faae_icgraph.png" border="0" usemap="#m_touch_8h_a5c62bf914c0353b75955a34212c1faae_icgraph" alt=""/></div>
<map name="m_touch_8h_a5c62bf914c0353b75955a34212c1faae_icgraph" id="m_touch_8h_a5c62bf914c0353b75955a34212c1faae_icgraph">
<area shape="rect" id="node3" href="group___decoding.html#ga8955adf440115510aace00d81444e268" title="Updates the state of each active&#45;mode sensor using the latest acquisition value." alt="" coords="207,5,324,35"/><area shape="rect" id="node5" href="m_touch_8h.html#ab73968cbb19d4ae25a65698c15906b65" title="Main initialization routine for all mTouch framework modules including the built&#45;in communication mod..." alt="" coords="220,59,311,88"/><area shape="rect" id="node7" href="group___acquisition.html#ga60426826e876a6a8c03b27b45ba02833" title="Implements the framework&#39;s active&#45;mode acquisition routine. Sometimes implemented as an ISR..." alt="" coords="213,136,317,165"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="ab73968cbb19d4ae25a65698c15906b65"></a><!-- doxytag: member="mTouch.h::mTouch_Init" ref="ab73968cbb19d4ae25a65698c15906b65" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mTouch_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main initialization routine for all mTouch framework modules including the built-in communication module, if enabled. </p>

<p><h2><a class="anchor" id="InitImp"></a>
Framework Initialization Notes</h2>
<p>1. Loop through all enabled, active sensors and initialize their variables.</p>
<p>2. Loop through all enabled sliders and initialize the slider's output value.</p>
<p>3. Initialize mode variables and flags</p>
<p>4. Initialize non-array system variables</p>
<p>5. Initialize the DACOUT pin when it is used as a guard ring.</p>
<p>6. Initialize the ADC module for mTouch operation.</p>
<p>7. Initialization complete - enable active-mode mTouch scanning.</p>
<p><br/>
<br/>
 </p>
</p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00258">258</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="m_touch_8h_ab73968cbb19d4ae25a65698c15906b65_cgraph.png" border="0" usemap="#m_touch_8h_ab73968cbb19d4ae25a65698c15906b65_cgraph" alt=""/></div>
<map name="m_touch_8h_ab73968cbb19d4ae25a65698c15906b65_cgraph" id="m_touch_8h_ab73968cbb19d4ae25a65698c15906b65_cgraph">
<area shape="rect" id="node3" href="m_touch_8h.html#a5c62bf914c0353b75955a34212c1faae" title="mTouch_ChangeMode" alt="" coords="148,5,297,35"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a699585423cd352f17a4edc5388970d20"></a><!-- doxytag: member="mTouch.h::mTouch_acqData" ref="a699585423cd352f17a4edc5388970d20" args="[MTOUCH_NUMBER_SENSORS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unionm_touch___acquisition_data.html">mTouch_AcquisitionData</a> <a class="el" href="m_touch__acquistion_8c.html#a699585423cd352f17a4edc5388970d20">mTouch_acqData</a>[MTOUCH_NUMBER_SENSORS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal mTouch acquisition variable structure. </p>

<p>Definition at line <a class="el" href="m_touch__acquistion_8c_source.html#l00072">72</a> of file <a class="el" href="m_touch__acquistion_8c_source.html">mTouch_acquistion.c</a>.</p>

</div>
</div>
<a class="anchor" id="a64be528d090489e1cc2bd740d55501ac"></a><!-- doxytag: member="mTouch.h::mTouch_average" ref="a64be528d090489e1cc2bd740d55501ac" args="[MTOUCH_NUMBER_SENSORS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="m_touch_8h.html#a64be528d090489e1cc2bd740d55501ac">mTouch_average</a>[MTOUCH_NUMBER_SENSORS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array to track the unpressed value of each sensor. </p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00086">86</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad74b3f8b877c7b7d513b9212d54dcb82"></a><!-- doxytag: member="mTouch.h::mTouch_currentScan" ref="ad74b3f8b877c7b7d513b9212d54dcb82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="m_touch__acquistion_8c.html#ad74b3f8b877c7b7d513b9212d54dcb82">mTouch_currentScan</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="m_touch__acquistion_8c_source.html#l00083">83</a> of file <a class="el" href="m_touch__acquistion_8c_source.html">mTouch_acquistion.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab29410255e81d186a19b48c01053fc96"></a><!-- doxytag: member="mTouch.h::mTouch_pressThreshold" ref="ab29410255e81d186a19b48c01053fc96" args="[MTOUCH_NUMBER_SENSORS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t <a class="el" href="m_touch_8h.html#ab29410255e81d186a19b48c01053fc96">mTouch_pressThreshold</a>[MTOUCH_NUMBER_SENSORS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constant array containing the press threshold for each sensor. </p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00184">184</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8684610eda16ac0df01d05ec5d7c362c"></a><!-- doxytag: member="mTouch.h::mTouch_releaseThreshold" ref="a8684610eda16ac0df01d05ec5d7c362c" args="[MTOUCH_NUMBER_SENSORS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t <a class="el" href="m_touch_8h.html#a8684610eda16ac0df01d05ec5d7c362c">mTouch_releaseThreshold</a>[MTOUCH_NUMBER_SENSORS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constant array containing the release threshold for each sensor. </p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00185">185</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6e24f307e58e95e12550082469099ae2"></a><!-- doxytag: member="mTouch.h::mTouch_sensorData" ref="a6e24f307e58e95e12550082469099ae2" args="[MTOUCH_NUMBER_SENSORS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="m_touch__acquistion_8c.html#a6e24f307e58e95e12550082469099ae2">mTouch_sensorData</a>[MTOUCH_NUMBER_SENSORS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Latch register storing the latest mTouch acquisition results. </p>

<p>Definition at line <a class="el" href="m_touch__acquistion_8c_source.html#l00074">74</a> of file <a class="el" href="m_touch__acquistion_8c_source.html">mTouch_acquistion.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab678fb469a6bdd3d0b75cc4b48adf504"></a><!-- doxytag: member="mTouch.h::mTouch_state" ref="ab678fb469a6bdd3d0b75cc4b48adf504" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structm_touch___state.html">mTouch_State</a> <a class="el" href="m_touch_8h.html#ab678fb469a6bdd3d0b75cc4b48adf504">mTouch_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tracks the state of the mTouch algorithm. </p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00084">84</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

</div>
</div>
<a class="anchor" id="affc22e96882bd0d8b258dd2241fe3fd9"></a><!-- doxytag: member="mTouch.h::mTouch_stateVars" ref="affc22e96882bd0d8b258dd2241fe3fd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structm_touch___state_variables.html">mTouch_StateVariables</a> <a class="el" href="m_touch_8h.html#affc22e96882bd0d8b258dd2241fe3fd9">mTouch_stateVars</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores all state-temporary variables to be reinitialized each mode change. </p>

<p>Definition at line <a class="el" href="m_touch_8c_source.html#l00085">85</a> of file <a class="el" href="m_touch_8c_source.html">mTouch.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>mTouch Framework v2.1 documentation by&#160;
<a href="http://www.microchip.com"> 
<img class="footer" src="../includes/mchp.jpeg" alt="Click here to visit our website at www.microchip.com"/></a></small></address> 
</body> 
</html> 
